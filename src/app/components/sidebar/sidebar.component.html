<div class="sidebar-container" [class.sidebar-closed]="!isOpen">
  <!-- Header con logo e close button -->
  <div class="sidebar-header">
    <a href="/" class="sidebar-logo" aria-label="Vai alla homepage di IT Consulting">
      <img src="https://www.itconsultingsrl.it/wp-content/uploads/2020/09/itconsulting-sito-web-logo.svg"
           alt="Logo IT Consulting"
           class="company-logo">
    </a>
    <button class="sidebar-close-btn"
            (click)="onCloseSidebar()"
            aria-label="Chiudi il menu della sidebar">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>

  <!-- Divider elegante -->
  <div class="sidebar-divider"></div>

  <!-- Back button migliorato -->
  <button class="back-button"
          (click)="onBackToHome()"
          aria-label="Torna al menu principale">
    <div class="back-button-icon">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
    </div>
    <span class="back-button-text">Menu Principale</span>
  </button>

  <!-- Navigation items -->
  <nav class="sidebar-nav" role="navigation" aria-label="Menu di navigazione principale">
    <div class="sidebar-items">
      <div *ngFor="let item of menuItems; let i = index"
           class="sidebar-item"
           [class.active]="selectedItem?.name === item.name"
           [style.animation-delay]="(i * 0.08) + 's'" 
           (click)="onItemClick(item)"
           role="menuitem" 
           tabindex="0"
           [attr.aria-label]="'Naviga verso ' + item.name">
        
        <!-- Avatar dinamico -->
        <div class="item-avatar">
          <div class="avatar-circle">
            <!-- Se l'item ha un avatar, mostralo -->
            <img *ngIf="item.image" 
                 [src]="item.image" 
                 [alt]="'Avatar di ' + item.name"
                 class="avatar-image">
            <!-- Altrimenti mostra l'icona di default -->
            <svg *ngIf="!item.image" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </div>
        </div>
        
        <!-- Item content -->
        <div class="item-content">
          <h3 class="item-name">{{ item.name }}</h3>
          <div class="item-indicator"></div>
        </div>
        
        <!-- Hover effect overlay -->
        <div class="item-hover-overlay"></div>
      </div>
    </div>
  </nav>

  <!-- Social Links -->
  <div class="sidebar-social">
    <div class="social-title">Seguici</div>
    <div class="social-links">
      <a href="https://www.instagram.com/itconsultingsrl/" 
         target="_blank" 
         rel="noopener noreferrer"
         class="social-link instagram"
         aria-label="Seguici su Instagram">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
          <path d="m16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
          <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
        </svg>
      </a>
      
      <a href="https://www.facebook.com/itconsultingsrl/" 
         target="_blank" 
         rel="noopener noreferrer"
         class="social-link facebook"
         aria-label="Seguici su Facebook">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
        </svg>
      </a>
      
      <a href="https://www.linkedin.com/company/itconsultingsrl/" 
         target="_blank" 
         rel="noopener noreferrer"
         class="social-link linkedin"
         aria-label="Seguici su LinkedIn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
          <rect x="2" y="9" width="4" height="12"></rect>
          <circle cx="4" cy="4" r="2"></circle>
        </svg>
      </a>
    </div>
  </div>

  <!-- Footer con subtle pattern -->
  <div class="sidebar-footer">
    <div class="footer-pattern"></div>
  </div>
</div>