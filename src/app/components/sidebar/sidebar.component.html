<div class="sidebar-container" 
     [class.sidebar-entering]="isEntering">
  <!-- Header con solo il logo -->
  <div class="sidebar-header">
    <a href="/" class="sidebar-logo" aria-label="Vai alla homepage di IT Consulting">
      <img src="https://www.itconsultingsrl.it/wp-content/uploads/2020/09/itconsulting-sito-web-logo.svg"
           alt="Logo IT Consulting"
           class="company-logo">
    </a>
  </div>

  <!-- Divider elegante -->
  <div class="sidebar-divider"></div>

  <!-- Back button migliorato -->
  <button class="back-button"
          (click)="onBackToHome()"
          aria-label="Torna al menu principale">
    <div class="back-button-icon">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
    </div>
    <span class="back-button-text">Menu Principale</span>
  </button>

  <!-- Navigation items -->
  <nav class="sidebar-nav" role="navigation" aria-label="Menu di navigazione principale">
    <div class="sidebar-items">
      <div *ngFor="let item of menuItems; let i = index"
           class="sidebar-item"
           [class.active]="selectedItem?.link === item.link"
           role="menuitem"
           [attr.aria-label]="'Opzioni per ' + item.name">
        
        <!-- Area cliccabile per navigazione (avatar + nome) -->
        <div class="item-navigation-area"
             (click)="onItemClick(item)"
             tabindex="0"
             [attr.aria-label]="'Naviga verso ' + item.name"
             role="button">
          
          <!-- Avatar -->
          <div class="item-avatar">
            <div class="avatar-circle">
              <img *ngIf="item.image" 
                   [src]="item.image" 
                   [alt]="'Avatar di ' + item.name"
                   class="avatar-image">
              <svg *ngIf="!item.image" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
            </div>
          </div>
          
          <!-- Nome -->
          <div class="item-content">
            <h3 class="item-name">{{ item.name }}</h3>
            <div class="item-indicator"></div>
          </div>
        </div>

        <!-- Area cliccabile per microfono (azione vocale) -->
        <div class="item-voice-area"
             (click)="onVoiceClick(item, $event)"
             tabindex="0"
             [attr.aria-label]="'Avvia conversazione vocale con ' + item.name"
             role="button">
          
          <!-- Icona microfono -->
          <div class="voice-icon">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
              <line x1="12" y1="19" x2="12" y2="23"></line>
              <line x1="8" y1="23" x2="16" y2="23"></line>
            </svg>
          </div>
        </div>
        
        <!-- Hover effect overlay -->
        <div class="item-hover-overlay"></div>
      </div>
    </div>
  </nav>

  <!-- Social Links -->
  <div class="sidebar-social">
    <div class="social-title">Seguici</div>
    <div class="social-links">
      <a href="https://www.instagram.com/itconsultingsrl/" 
         target="_blank" 
         rel="noopener noreferrer"
         class="social-link instagram"
         aria-label="Seguici su Instagram">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
          <path d="m16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
          <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
        </svg>
      </a>
      
      <a href="https://www.facebook.com/itconsultingsrl/" 
         target="_blank" 
         rel="noopener noreferrer"
         class="social-link facebook"
         aria-label="Seguici su Facebook">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
        </svg>
      </a>
      
      <a href="https://www.linkedin.com/company/itconsultingsrl/" 
         target="_blank" 
         rel="noopener noreferrer"
         class="social-link linkedin"
         aria-label="Seguici su LinkedIn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
          <rect x="2" y="9" width="4" height="12"></rect>
          <circle cx="4" cy="4" r="2"></circle>
        </svg>
      </a>
    </div>
  </div>

  <!-- Footer con subtle pattern -->
  <div class="sidebar-footer">
    <div class="footer-pattern"></div>
  </div>
</div>